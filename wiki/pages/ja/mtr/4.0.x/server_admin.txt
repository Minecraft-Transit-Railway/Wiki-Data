FIXME **このページはまだ完全には、翻訳されません。翻訳の完了を支援して下さい。**\\ //（翻訳が完了したらこの段落を削除して下さい）//

====== サーバー管理者におけるMTR4の移行について ======

MinecraftサーバーをMTR4に移行するために必要な項目を説明します。

===== 移行手順 =====

==== 移行前の確認 ====
  * [[mtr_addon:nte:start|Nemo Transit Expansion]] や [[https://modrinth.com/mod/transitmanager|TransitManager]] などの一部のアドオンには、MTR4バージョンがありません。アップグレードする前に、アドオンリストを再確認してください。
  * MTR 4 には、Minecraft バージョン 1.16.5、1.17.1、1.18.2、1.19.2、1.19.4、1.20.1、または 1.20.4 が必要です。ここに記載されたバージョンを使用していない場合は、Minecraft バージョンのアップグレード/ダウングレードを検討してください。
  * **移行を試みる前に必ずバックアップを作成してください。移行後はMTR3に戻すことはできません!**

==== 移行 ====
MTR 4 は MTR 3 からデータを自動的に移行するため、ユーザーが行う手順はそれほど多くありません。いずれにしても、プロセスの概要は次のとおりです。

  - Minecraftサーバーをシャットダウンし、サーバーのmodディレクトリにあるMTR3mod.jarをMTR4に置き換えます。
  - サーバーを起動します。MTRがMTR3データを MTR 4 に自動的に移行を行うため、初回の起動には時間がかかる場合があります。次回起動時は初回より大幅に起動時間が短縮されます。
  - サーバーの起動後、''/mtr generate''コマンド((要OP権限レベル2以上))を実行して、すべての車両基地の経路を更新し、列車を再び走らせる必要があります。
===== パフォーマンス =====

MTR 4 はMinecraftゲームで列車をシミュレートしなくなりましたが、代わりにバックグラウン スレッドでシミュレーションを実行します。つまり、MTR4がサーバーのティック レートに与える影響は大幅に少なくなっています。同時に、列車のシミュレーションは Minecraft ゲームのティックレートの影響を受けません。これによりCPU使用率が増加する可能性もあることに注意してください。

===== Minecraft バージョンのアップグレード =====

Minecraft バージョンのアップグレードは簡単な手順のように思えますが、いくつか注意が必要です。特に重要なのは次の点です。

* Minecraft バージョン間でコマンドの使用が変わると、データパックが壊れる場合があります。
* 1.16/1.17から1.18以降にアップグレードすると、地形の生成が異なり、WorldEditを使用しても、地形を1.17形式に再生成することはできません。
* 1.20にアップグレードすると、フォントのjson形式が変更されます。古い形式を引き続き使用すると (JCMの発車標など)、四角いフォントとして表示されます。

