FIXME **このページはまだ完全には、翻訳されません。翻訳の完了を支援して下さい。**\\ //（翻訳が完了したらこの段落を削除して下さい）//

====== カスタムリソースの追加 ======

Minecraft Transit Railway Modでは、リソースパックを使用することで、以下のコンテンツをワールド内に追加することが可能である。

  * 既存（デフォルト）の[[/trains|列車]] のテクスチャバリエーション
  * [[/trains|列車]] のBlockbenchモデル（BBmodel）
  * [[/railway_sign|鉄道標識]] の新しいテクスチャやテキスト

なお本ガイドを進める前に、[[https://minecraft.wiki/wiki/Tutorials/Creating_a_resource_pack|リソースパックの制作]] に慣れていることを強く推奨する。

===== リソースパックのフォーマット =====

''mtr_custom_resources.json'' では、MODに登録するカスタムコンテンツの定義を行う。これらは''mtr'' の名前空間の下に置く必要がある。つまり、''assets/mtr/mtr_custom_resources.json'' というファイルパスである必要がある。

==== 既存の列車のテクスチャバリエーションを追加する ====

テクスチャのバリエーション（リテクスチャ）を追加するには、''mtr_custom_resouces.json'' に''custom_trains'' JSONオブジェクトを追加する必要がある。''custom_trains'' の下にある各JSONオブジェクトは、列車のテクスチャバリエーションを表し、固有のキーといくつかの必須項目を持たなければなりません。

<markdown>






| キー | データ型 | 説明 | 要否 | デフォルトでの値 | 備考 |
| --- | --- | --- | --- |
| `name` | 文字列 | ルートの列車選択時に [ダッシュボード](https://wiki.minecrafttransitrailway.com/mtr:dashboards) に表示される名前 | 必須 | N/A ||
| `color` | 文字列 (HEXカラーコード) | ルートの列車選択時にダッシュボード [ダッシュボード](https://wiki.minecrafttransitrailway.com/mtr:dashboards) に表示される色 | 任意 |Black (`#000000`)||
| `base_train_type` | 文字列 (train ID) | テクスチャを適用する列車モデル | 必須(bbmodelを使用しない場合) | N/A | See [the trains page](https://wiki.minecrafttransitrailway.com/mtr:trains) for a list of train identifiers |
| `texture_id` | 文字列 (texture ID) | テクスチャファイルの [名前空間付きID](https://minecraft.wiki/wiki/Namespaced_ID) | 必須 |N/A||
| `description` | 文字列 | この列車に関する簡単な説明を追加可能。改行コード(\n)も使用可。 | 任意 |N/A||
| `wikipedia_article` | 文字列 | 英語版Wikipediaの記事の引用が可能。長すぎる場合は省略される。 | 任意 |N/A||
| `train_barrier_id` | 文字列 | 車両の端に列車バリアを設置する。指定がない場合は表示されない。 | 任意 |N/A||
| `gangway_connection_id` | 文字列 | 車両の端に貫通幌を設置する。指定がない場合はSP1900の貫通幌が表示される。 | 任意 |`mtr:textures/entity/sp1900`||
| `has_gangway_connection` | ブーリアン型 | 貫通幌を通行可能にするかを選択する。falseの場合、貫通幌は透明になり、`gangway_connection_id` の指定は無視される。 | 任意 |`true`||
| `door_animation_type` | 文字列 | 以下のドアアニメーションの指定が可能。大文字で記述する必要がある。<br><br>STANDARD<br>STANDARD_SLOW<br>CONSTANT<br>PLUG_FAST<br>PLUG_SLOW<br>BOUNCY_1<br>BOUNCY_2<br>MLR<br>R179<br>R211| 任意 |`STANDARD`|CONSTANT only 32 (max) regardless of train door width.|
| `model` | 文字列 | BBmodelファイルのファイルパスを指定する。 | 必須（bbmodelを使用する場合） |N/A||
| `model_properties` | 文字列 | Model Propertiesファイル(.json)のファイルパスを指定する。 | 必須（bbmodelを使用する場合） |N/A||
| `speed_sound_base_id` | 文字列 | 通常の走行音のIDの指定が可能。デフォルトの列車IDか、sounds.jsonで定義されたものを指定する。 | 任意 |N/A|If not specified, the sound will be silent.|
| `speed_sound_count` | 数列 | 上記のspeed_sound_base_idで指定したフォルダ内での加速または減速用oggファイルの数を指定する。正しく指定されない場合、ある速度以上で音が無音になる。 |Optional|The number of sounds specified by Train ID (if any)||
| `door_sound_base_id` | 文字列 | 通常のドア音のIDを指定する。デフォルトの列車IDか、sounds.jsonで定義されたものを指定する。 | 任意 |N/A|If not specified, the sound will be silent.|
| `door_close_sound_time` | 数列 | ドア音のオフセットを指定する。値は0以上、1以下である必要がある。 |任意|`0.5`||
| `bve_sound_base_id` | 文字列 | BVEサウンドのIDを指定する。デフォルトの列車IDか、sounds.jsonで定義されたものを指定する。BVEサウンドの定義方法については [こちら](https://wiki.minecrafttransitrailway.com/mtr:dev:custom_bve_sound) を参照。 | 任意 |N/A|If specified, conventional format sound will not be available.|

An example is shown below.

```
{
  "custom_trains": {
    "my_custom_train": {
      "name": "My Custom SP1900 Train",
      "color": "FEC5E5",
      "base_train_type": "sp1900",
      "texture_id": "mtr:custom_directory/custom_sp1900.png"
    }
  }
}
```

## Adding New Railway Sign Textures or Text

To add new [railway signs](https://github.com/jonafanho/Minecraft-Transit-Railway/wiki/Railway-Sign) textures or text, the `custom_signs` JSON object should be added to `mtr_custom_resouces.json`. Each JSON object under `custom_signs`, representing a new sign, should have a unique key and serveral required entries.

| Key | Data Type | Description | Required? |
| --- | --- | --- | --- |
| `texture_id` | String (texture ID) | The [namespaced ID](https://minecraft.wiki/wiki/Namespaced_ID) of the texture file | Required |
| `flip_texture` | Boolean | If `true`, the texture will be flipped horizontally | Optional |
| `custom_text` | String | If set, the text will be shown to the right of the image; the pipe character `\|` is supported, for example `客務中心\|Customer Service Centre` | Optional |
| `flip_custom_text` | Boolean | If `custom_text` is set and `flip_custom_text` is `true`, the text will be shown to the left of the image | Optional |
| `small` | Boolean | If `true`, the image will be rendered with a margin around it | Optional |
| `background_color` | String (colour hex code) | The colour for the backgound | Optional, defaults to the colour black if none specified |

An example is shown below.

```
{
  "custom_signs": {
    "my_custom_sign": {
      "texture_id": "mtr:custom_directory/custom_sign.png",
      "flip_texture": false,
      "custom_text": "你好|Hello",
      "flip_custom_text": false,
      "small": true,
      "background_color": "1167B1"
    }
  }
}
```
## Model Properties file

</markdown>

<WRAP center round todo 60%>

This section is currently unwritten.

</WRAP>

<markdown>







The Model Properties file can be edited by the Resource Pack Creator or directly in a text editor, for example.

### basis
| Key | Data Type | Description | Notes |
| --- | --- | --- | --- |
| `transport_mode` | String  | The following transport type can be specified. Must be written in CAPITAL LETTERS.<br><br>TRAIN<br>AIRPLAIN<br>CABLECAR<br>FERRY | Required |
| `length` | Number  | Specifies the length of the car body. |Required|
| `width` | Number  | Specifies the width of the car body. |Required|
| `door_max` | String | Specifies the door opening/closing width. If it is set to CONSTANT, the description is ignored. | Required |

### `part`
| Key | Data Type | Description | Notes |
| --- | --- | --- | --- |
| `name` | String | Specify the parts folder of BBmodel. Specifying a folder without a single cube may cause Minecraft to crash.| Required |
| `stage` | String | The following model attributes can be specified. Must be written in CAPITAL LETTERS.<br><br>EXTERIOR<br>INTERIOR<br>LIGHTS<br>ALWAYS_ON_LIGHTS<br>INTERIOR_TRANSLUCENT | Required|
| `mirror` | Boolean | Flip the model 180 degrees on the y-axis. | Optional, default is true |
| `skip_rendering_if_too_far` | Boolean | If set to true, models more than 2 chunks apart will not be displayed. | Optional, default is false |



## Verifying the Resource Pack

Use a [JSON validator](https://jsonlint.com/) to check for any syntax errors of the JSON files.

The resource pack (zip file) can be installed either clientside or as a server resource pack. If installed as a server resource pack, all players joining the server will be able to see the new additions after accepting the server resource pack.

[Download the example resource pack](https://github.com/jonafanho/Minecraft-Transit-Railway/blob/master/examples/MTR%20Custom%20Resources.zip?raw=true) to see a full example and to test out the functionality.

</markdown>

