FIXME **このページはまだ完全には、翻訳されません。翻訳の完了を支援して下さい。**\\ //（翻訳が完了したらこの段落を削除して下さい）//

FIXME **このページは完全には完成していません。 加筆修正にご協力ください。**\\ //(remove this note when the page is completed)//

====== Version 4.0.X ======

Minecraft Transit Railway v4.0 は、Minecraft Transit Railway mod の今後のメジャー アップデートであり、現在開発中です。

===== Releases =====
MTR 4.0 はまだ開発中であるため、正式なリリースはまだ公開されていません。現時点でのベータ版のアップデートは以下の通り。

<WRAP center round important 60%>
MTR 4.0にアップデートする際は必ずワールド及びリソースパックのバックアップを行ってください。データが破損した際に復元できなくなります。
</WRAP>


==== Version 4.0.0-beta-1  =====
以下の機能が3.xより書き直された。

完全に動作：
  * ダッシュボード
  * レールの作成と削除
  * 自動列車移動の設定
  * PSD/APG
  * 信号機（信号灯を除く）
  * 駅カラーブロック
  * エスカレーター
一部動作:
  * 鉄道車両は一部のみ動作
  * PIDSのカスタマイズ
  * オンラインシステムマップ
  * シェーダの互換性

==== Version 4.0.0-beta-2  =====
  * マインクラフトのバージョンが1.20.4に対応しました。
  * 1.17 ～ 1.20 で車両レンダリングを最適化し、1.16 ～ 1.19 で車両が透明になるバグを修正しました。
  * クライアントパケットの更新時にキャッシュが更新されず、作成直後にデポを更新できないなどの問題を修正しました。
  * ツールチップに正しいテキストが表示されない問題を修正しました。
  * ダッシュボードのルートにプラットフォームを追加してもすぐには更新されない問題を修正しました。
  * レールアクションがクラッシュする問題を修正しました。

==== Version 4.0.0-beta-3  =====
  * 鉄道標識が機能するようになりました。
  * 自動券売機が機能するようになりました。
  * ゴンドラリフトが動作するようになりました。
  * beta-1では動作しなかったその他の列車の種類が動作するようになりました。
  * エレベーターが斜めもしくは水平方向に移動できるようになった。((斜行エレベーターや2013年まで成田空港に存在したOTIS製のサテライトシャトルが該当する))
  * シフトして降車できるようになった。
  * サーバーが起動時にクラッシュしなくなりました (Fabric 1.20.4で動作確認済み)

==== Version 4.0.0-beta-4  =====
  * 3.xで保存したワールドとリソース パックを読み込めるようになった。
  * /generateコマンドを追加しました
    *このコマンドは車両基地に設定した路線のパスをまとめて更新するコマンドです。ワールドを始めて4.0で読み込んだ後に使用すると効果的です。ただし使用するにはOP権限レベルが2以上必要です。
  * レイ トレーシングを使用した車両と鉄道のカリングにより FPS が向上しました (激重で有名なCentown駅では50FPS以上が得られました!)
  * ワールド内にいないときに設定画面を閉じるとクラッシュする問題を修正しました。
  * 使用可能なWebサーバーポートを自動的に検索する機能を追加。 (config/mtr_webserver_port.txt で指定されたポートから開始するか、そのファイルが存在しない場合は 8888 から開始します)。
  * 路線図機能が動作するようになりました。
  * 車のモーター音とドアの音が動作するようになりました。
  * 2ドアおよび4ドア仕様のバリエーションが動作するようになりました。
  * 台車の間隔が不均等な場合の間違ったレンダリングを修正しました。
  * 一部の Minecraft バージョンで車両がレンダリングされない問題を修正。


==== Version 4.0.0-beta-5  =====
  * 未改装の M-Train およびライトレール列車を再追加。
  * SP1900のテクスチャが新しくなった。 (@AozoraMarcus に感謝!)
  * 高速でプレイヤーが降りる問題を修正。
  * コンピューター上の他のアプリケーションの速度低下を避けるために、Minecraft のスレッド数を減らしました。
  * 新しい次駅アナウンス形式。
  * 橋りょうビルダー作成速度の向上とダッシュボードのさまざまな調整 (@LX86 に感謝!)。
  * デポの生成ステータスと最終更新時刻を表示するようになった。
  * 最上階で上矢印ボタンが表示されるエレベーターの呼び出しボタンを修正。
  * 車両内でプレイヤーがジャンプする奇妙な動きを修正。
  * 鉄道標識に非常口標識のレンダリングを追加し、ホームドア上にある路線図のレンダリングを修正しました

==== Version 4.0.0-beta-5-hotfix-1  =====
  * ダッシュボードを開けない、レールを確認できない、鉄道標識を編集できないなど、パケット関連の問題が修正された。 

==== Version 4.0.0-beta-6  =====
  * より優れたMinecraftスタイルのボートを追加された。
  * ルフトハンザドイツ航空のA320のリテクスチャを含む飛行機が追加された。
  * 電光表示板の表示を 3.x.xと同じに戻します。 *文字は、スケジュールされた (リアルタイムではない) 到着を示します
  * 車両構成を変更するときに車庫線を自動的に更新するようになった。

===== プレイヤー向けの変更 =====
TO DO
===== 技術的な変更 =====

==== Minecraft-Mappings ====

[[https://github.com/Minecraft-Transit-Railway/Minecraft-Mappings|Minecraft-Mappings]] プロジェクトが書き直され、複数の Minecraft バージョン間および Modloader 間での開発が容易になりました。 これにより、Forge用のMTR3.x で導入に必要な前提MOD **Architectury** が不要になりました。

==== レンダリングの最適化 ====

[[mtr_addon:nte:start|NTE Addon]] によるレンダリングの最適化は **Minecraft-Mappings** プロジェクトに統合されており、MTR 4.0 でも使用されています。 これにより、**ゲームプレイ中のフレームレートが大幅に向上します**。.((
 要出典
))

==== Transport-Simulation-Core ====

MTR3.xまでは、MTRはブロック構成から自動化されたゲーム内ネットワークのシミュレーションまですべてを処理する自己完結型MODでした。

MTR4.0より、シミュレーション部分が [[https://github.com/Minecraft-Transit-Railway/Transport-Simulation-Core|Transport-Simulation-Core]] に分割されました。 これにより、ネットワーク シミュレーション部分を別の外部アプリケーション (つまり、Minecraft の外部) に簡単に統合できるようになります。 MTR Mod と一緒に使用すると、シミュレーションは独自の専用スレッドでも実行されるようになり、**交通ネットワークのシミュレーションによって発生する Minecraft サーバーの遅延を軽減できます。**

